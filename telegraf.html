<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="E. Himwich, C. Frock, C. Coughlin, K. Imai">
<title>DRAFT telegraf installation for FS computers</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>DRAFT telegraf installation for FS computers</h1>
<div class="details">
<span id="author" class="author">E. Himwich, C. Frock, C. Coughlin, K. Imai</span><br>
<span id="revdate">Version 1.6 - January 2024</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_combining_with_gromet_installation">2. Combining with gromet installation</a></li>
<li><a href="#_reverting_the_installation">3. Reverting the installation</a></li>
<li><a href="#_disabling_data_logger_access_from_the_mas">4. Disabling data logger access from the MAS</a></li>
<li><a href="#_firewall_setup">5. Firewall setup</a></li>
<li><a href="#_fs1_installation">6. fs1 installation</a>
<ul class="sectlevel2">
<li><a href="#_preparing_fs1">6.1. Preparing fs1</a></li>
<li><a href="#_installing_telegraf_on_fs1">6.2. Installing telegraf on fs1</a></li>
<li><a href="#_testing_telegraf_on_fs1">6.3. Testing telegraf on fs1</a></li>
</ul>
</li>
<li><a href="#_fs2_installation">7. fs2 installation</a>
<ul class="sectlevel2">
<li><a href="#_preparing_fs2">7.1. Preparing fs2</a></li>
<li><a href="#_changes_needed_before_installing_telegraf_on_fs2">7.2. Changes needed before installing telegraf on fs2</a></li>
<li><a href="#_installing_telegraf_on_fs2">7.3. Installing telegraf on fs2</a></li>
<li><a href="#_testing_telegraf_on_fs2">7.4. Testing telegraf on fs2</a></li>
</ul>
</li>
<li><a href="#_finishing_up">8. Finishing up</a>
<ul class="sectlevel2">
<li><a href="#_finalizing_fs2">8.1. Finalizing fs2</a></li>
<li><a href="#_finalizing_fs1">8.2. Finalizing fs1</a></li>
</ul>
</li>
<li><a href="#_set_telegraf_utility">9. set_telegraf utility</a>
<ul class="sectlevel2">
<li><a href="#_set_telegraf_installation">9.1. set_telegraf installation</a></li>
<li><a href="#_testing_set_telegraf">9.2. Testing set_telegraf</a></li>
<li><a href="#_use_of_set_telegraf">9.3. Use of set_telegraf</a></li>
</ul>
</li>
<li><a href="#_restoring_raids">10. Restoring RAIDs</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<mark>As of FSL11, this document is obsolete.</mark>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This document provides instructions for installing <em>telegraf</em> (a
collector for the MAS) for Field System computers. It assumes that
there are both <em>operational</em> and <em>spare</em> computers in use. They are
referred to as <em>fs1</em> and <em>fs2</em>, respectively. You should of course
replace those with the names of the computers you are using, if
different. If there is only one computer, you can omit the actions
involving <em>fs2</em> (and not install the <em>set_telegraf</em> utility).</p>
</div>
<div class="paragraph">
<p>With two computers, <em>telegraf</em> should be installed on both <em>fs1</em> and
<em>fs2</em>. The one on <em>fs1</em> collects data from various devices and the
computer performance information. It is nominally the operational
installation. The one on <em>fs2</em> just collects computer performance
information by default. The <em>set_telegraf</em> utility (see the section
<a href="#_set_telegraf_utility">set_telegraf utility</a> below for the details) can be used to change
which system is the operational one and collects the data from the
devices.</p>
</div>
<div class="paragraph">
<p>The repository for <em>telegraf</em> can be found at
<a href="https://github.com/nvi-inc/telegraf" class="bare">https://github.com/nvi-inc/telegraf</a>.</p>
</div>
<div class="paragraph">
<p>The installation assumes that <em>gromet</em> is used to serve met. data. If
<em>metserver</em> is being used instead, you should either replace it with
<em>gromet</em> <em>or</em> substitute <em>metserver</em> in place of <em>gromet</em> in the
<a href="#_fs1_installation">fs1 installation</a> section. Additional instructions for using
<em>metserver</em> or no met. data server are included as well.</p>
</div>
<div class="paragraph">
<p>If you are not already using <em>gromet</em> and want to, instructions for
installing <em>gromet</em> are in provided in <em>gromet</em> installation document
at <a href="https://github.com/nvi-inc/gromet_install" class="bare">https://github.com/nvi-inc/gromet_install</a>. If you plan to use
<em>gromet</em>, installing it first or combining it with <em>telegraf</em> is
described in the <a href="#_combining_with_gromet_installation">Combining with gromet installation</a> section.</p>
</div>
<div class="paragraph">
<p>The installation process uses the <em>recoverable testing</em> procedure of
FSL11 with a RAID to enable easy recovery in case of a problem. This
has the advantage that if (i) actions are missing from the <em>telegraf</em>
installation procedure or (ii) errors occur, and either or both can&#8217;t
be recovered from directly, it is relatively easy to return to the
original state and start over. If you are using some other FSL<em>x</em> or
don&#8217;t have a RAID, you should skip using the recoverable testing
procedure or substitute a different one.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_combining_with_gromet_installation">2. Combining with gromet installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is possible to combine the installation of <em>telegraf</em> with that of
<em>gromet</em>. The only downside of that is that if it is necessary to
revert the <em>telegraf</em> installation, the installed <em>gromet</em> will be
lost also. However, that should be fairly easy to recover on the next
attempt. The complete <em>gromet</em> installation can be done before the
<em>telegraf</em> installation to decouple them.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
To decouple the <em>gromet</em> and <em>telegraf</em> installation, complete
the actions in the &#8220;Restoring RAIDs&#8221; section (at
<a href="https://nvi-inc.github.io/gromet_install/#_restoring_raids" class="bare">https://nvi-inc.github.io/gromet_install/#_restoring_raids</a>) in the
<em>gromet</em> installation document and allow the RAIDs to fully recover
before using this document to install <em>telegraf</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To combine the two installations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in the <em>gromet</em> installation document (at
<a href="https://nvi-inc.github.io/gromet_install/" class="bare">https://nvi-inc.github.io/gromet_install/</a>) down to, but not including,
the &#8220;Restoring RAIDs&#8221; section at
<a href="https://nvi-inc.github.io/gromet_install/#_restoring_raids" class="bare">https://nvi-inc.github.io/gromet_install/#_restoring_raids</a>.</p>
</li>
<li>
<p>Then proceed to the <a href="#_fs1_installation">fs1 installation</a> section below. You should
skip <a href="#_preparing_fs1">Preparing fs1</a> and <a href="#_preparing_fs2">Preparing fs2</a> steps that follow.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If it is necessary to revert the combined installation, follow the
instructions in the <a href="#_reverting_the_installation">Reverting the installation</a> section below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reverting_the_installation">3. Reverting the installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If it is not possible finish the installation before the next
operational use of the system or disk rotation, the systems can be
reverted to their previous configuration. For each system that had the
primary disk <em>dropped</em> follow the <em>failed</em> branch of the recoverable
testing procedure at
<a href="https://nvi-inc.github.io/fsl10/raid.html#_recoverable_testing" class="bare">https://nvi-inc.github.io/fsl10/raid.html#_recoverable_testing</a>.</p>
</div>
<div class="paragraph">
<p>It will require several hours for the refresh operation
to complete. The system can be used for operations, but not a disk
rotation, while the refresh is in progress. Later, the installation
can be tried again from scratch when it is convenient.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
If you use <em>metserver</em>, depending on where in the process the
decision to revert the installation is made, it may also be necessary
to move the MET4A and wind sensor serial connectors back to <em>fs1</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When reverting the installation, you may also need to re-enable the
data logger access on MAS, as described in section
<a href="#_disabling_data_logger_access_from_the_mas">Disabling data logger access from the MAS</a> below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_disabling_data_logger_access_from_the_mas">4. Disabling data logger access from the MAS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>telegraf</em> installation on the FS computers will query the data
logger. If the <em>telegraf</em> on the MAS computer is already accessing the
data logger, it will need to be disabled to avoid a conflict. To
disable accessing the data logger on the MAS computer, comment out the
data logger lines in the <em>telegraf</em> configuration file on the MAS
computer and restart <em>telegraf</em> there.</p>
</div>
<div class="paragraph">
<p>If the installation needs to be reverted (see more details in section
<a href="#_reverting_the_installation">Reverting the installation</a> above) you will need to re-enable data logger
access on the MAS computer to return to the previous configuration. To
do this, uncomment the relevant lines in the <em>telegraf</em> configuration
file on the MAS computer and restart <em>telegraf</em> there.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_firewall_setup">5. Firewall setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have an internal site firewall make sure it is set to allow
<em>fs1</em> and <em>fs2</em> to push data to the MAS.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fs1_installation">6. fs1 installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All instructions in this section are to be performed on the <em>fs1</em>
computer.</p>
</div>
<div class="sect2">
<h3 id="_preparing_fs1">6.1. Preparing fs1</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
If you are combining the <em>gromet</em> and <em>telegraf</em>
installations and have <em>not</em> restored the RAIDs as part of the
<em>gromet</em> installation, you should skip this step and proceed to the
next step, <a href="#_installing_telegraf_on_fs1">Installing telegraf on fs1</a>, below.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the directions for the recoverable test procedure at
<a href="https://nvi-inc.github.io/fsl10/raid.html#_recoverable_testing" class="bare">https://nvi-inc.github.io/fsl10/raid.html#_recoverable_testing</a>.</p>
</li>
<li>
<p>Once the primary disk has been dropped from the RAID, move onto the
next step, <a href="#_installing_telegraf_on_fs1">Installing telegraf on fs1</a>, below.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_installing_telegraf_on_fs1">6.2. Installing telegraf on fs1</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove any previous installation of <em>telegraf</em>.</p>
</li>
<li>
<p>As <em>root</em>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Clone the <em>telegraf_install</em> repository:</p>
<div class="literalblock">
<div class="content">
<pre>cd /usr2
git clone https://github.com/nvi-inc/telegraf_install.git
chown -R prog.rtx telegraf_install</pre>
</div>
</div>
</li>
<li>
<p>If not already present, add aliases to <em>/etc/hosts</em> for the
datalogger as <code>datalog</code>; for the MAS, as <code>mas</code>; for the 12m antenna,
as <code>12m</code>. If you want to use different aliases you will need to update
the values used in the configuration file.</p>
</li>
<li>
<p>Execute (copy-and-paste <em>will</em> work for the wrapped second line):</p>
<div class="literalblock">
<div class="content">
<pre>cd ~
wget https://github.com/nvi-inc/telegraf/releases/download/v1.14.2-vlbi-0.5.2/telegraf-vlbi_1.14.2.vlbi.0.5.2-1_amd64.deb
dpkg -i telegraf-vlbi_1.14.2.vlbi.0.5.2-1_amd64.deb
cp /usr2/telegraf_install/telegraf.conf /etc/telegraf</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
For the <em>cp</em> command, you may be prompted to confirm overwriting
<em>/etc/telegraf/telegraf.conf</em>. It should be safe to answer <code><strong>y</strong></code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If all of the devices covered in the example <em>telegraf.conf</em>
file are not available for your system, you may want to install a
reduced configuration file. It can be setup to only access the
computer performance information and, optionally, some sub-set of the
other devices. You can edit the <em>/etc/telegraf/telegraf.conf</em> file to
comment out the features you don&#8217;t want. The <em>telegraf.conf.partial</em>
file may be useful for comparison. It could also be used as is, if you
place it in <em>/etc/telegraf/</em> as <em>telegraf.conf</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>metserver</code> (<em>metserver</em> or <em>gromet</em>) host in the configuration
file is by default set to the <code>127.0.0.1</code> for the case of the
<code>metserver</code> serving to the local host only. If it serves to the
network, use an alias for <em>fs1</em> from <em>/etc/hosts</em> instead.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
In this case, when installing on <em>fs2</em>, use an alias for
<em>fs2</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you don&#8217;t have a <code>metserver</code>, you should comment out the
<code>metserver</code> lines.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Set the <em>telegraf</em> user name and password in
<em>/etc/telegraf/telegraf.conf</em> (<em>not</em> in the copy in
<em>/usr2/telegraf_install/telegraf.conf</em>).</p>
</li>
<li>
<p>Execute:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl restart telegraf</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>telegraf</em> is <code>enable</code>d by default, so it will start
automatically after a reboot.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_testing_telegraf_on_fs1">6.3. Testing telegraf on fs1</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that there are no errors for communication with the antenna
by the FS and the ACI program.</p>
<div class="paragraph">
<p>If there are errors, disable <em>telegraf</em> antenna access, as <em>root</em>:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit <em>/etc/telegraf.conf</em> and comment out the block:</p>
<div class="literalblock">
<div class="content">
<pre>[[inputs.modbus_antenna]]
## modbus antenna controller type
antenna_type = "intertronics12m"
## network address in form ip:port
address = "12m:502"</pre>
</div>
</div>
</li>
<li>
<p>Execute:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl restart telegraf</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><a id="no_problems"></a><a href="#no_problems">Verify there are no other problems</a>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Check in <em>grafana</em> on the MAS to see if the antenna (if antenna
access wasn&#8217;t disabled) and met. data are updating.</p>
</li>
<li>
<p>A minimal test with the FS to assure that things are working would
include:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>A quick pointing check, which should be nominal and should not
have communication errors with the antenna.</p>
</li>
<li>
<p>If <em>gromet</em> (or <em>metserver</em>) is in use, try the <code>wx</code> command to
verify met data is still available.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fs2_installation">7. fs2 installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once <em>fs1</em> has been successfully set-up, the <em>fs2</em> disks, running in
the spare computer, can be set-up. Do not proceed with this section
until <em>telegraf</em> is working on <em>fs1</em>.</p>
</div>
<div class="sect2">
<h3 id="_preparing_fs2">7.1. Preparing fs2</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
If you are combining the <em>gromet</em> and <em>telegraf</em>
installations and have <em>not</em> restored the RAIDs as part of the
<em>gromet</em> installation, you should skip this step. Instead proceed to
the next step,
<a href="#_changes_needed_before_installing_telegraf_on_fs2">Changes needed before installing telegraf on fs2</a>, below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Follow the instructions in the <a href="#_preparing_fs1">Preparing fs1</a> step above, but this
time performing them on <em>fs2</em>. Then continue with the next step,
<a href="#_changes_needed_before_installing_telegraf_on_fs2">Changes needed before installing telegraf on fs2</a>, below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_changes_needed_before_installing_telegraf_on_fs2">7.2. Changes needed before installing telegraf on fs2</h3>
<div class="paragraph">
<p>For this part of the installation it will be necessary to take some
additional actions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Terminate the FS on <em>fs1</em>.</p>
</li>
<li>
<p>Stop <em>telegraf</em>, <em>metclient</em>, and <em>gromet</em> (or <em>metserver</em> if it
being used instead of <em>gromet</em>) on <em>fs1</em>, as <em>root</em>, where <em>server</em>
is either <code>gromet</code> or <code>metserver</code>:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl stop telegraf
systemctl stop metclient
systemctl stop <em>server</em></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If neither <em>gromet</em> or <em>metserver</em> is being used, omit the
<code>metclient</code> and <em>server</em> commands. If <em>metclient</em> is not being used,
omit the command for it.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If <em>metserver</em> is being used, Move the serial connectors for the
MET4A and wind sensors to the corresponding connectors on <em>fs2</em>.</p>
</li>
<li>
<p>If <em>gromet</em> (or <em>metserver</em>) is used on <em>fs2</em>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Start it as <em>root</em>, where <em>server</em> is either <code>gromet</code> or
<code>metserver</code>:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl start <em>server</em></pre>
</div>
</div>
</li>
<li>
<p>As <em>oper</em>, start the FS on <em>fs2</em> and verify that met data is being
received with the command:</p>
<div class="literalblock">
<div class="content">
<pre>wx</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_installing_telegraf_on_fs2">7.3. Installing telegraf on fs2</h3>
<div class="paragraph">
<p>Follow the directions in the <a href="#_installing_telegraf_on_fs1">Installing telegraf on fs1</a> step
above, but this time performing the instructions on <em>fs2</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If <em>telegraf</em> antenna access had to be disabled on <em>fs1</em> to
eliminate communication errors, it is expected that this will be
needed on <em>fs2</em> as well.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_testing_telegraf_on_fs2">7.4. Testing telegraf on fs2</h3>
<div class="paragraph">
<p>Follow the directions in the <a href="#_testing_telegraf_on_fs1">Testing telegraf on fs1</a> step
above, but this time using <em>fs2</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_finishing_up">8. Finishing up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the instructions to follow once <em>telegraf</em> has
been tested successfully on <em>both</em> <em>fs1</em> and <em>fs2</em>. It will leave the
systems configured with <em>telegraf</em> (and <em>gromet</em> or <em>metserver</em>, and
<em>metclient</em>, if they are being used) running on <em>fs1</em> and not on
<em>fs2</em>.</p>
</div>
<div class="sect2">
<h3 id="_finalizing_fs2">8.1. Finalizing fs2</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Terminate the FS on <em>fs2</em>.</p>
</li>
<li>
<p>Stop <em>telegraf</em>, <em>gromet</em> (or <em>metserver</em>), and <em>metclient</em> on
<em>fs2</em>, as <em>root</em> , where <em>server</em> is either <code>gromet</code> or <code>metserver</code>:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl stop telegraf
systemctl stop metclient
systemctl stop <em>server</em></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If neither <em>gromet</em> or <em>metserver</em> is being used, omit the
<code>metclient</code> and <em>server</em> commands. If <em>metclient</em> is not being used,
omit the command for it.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Disable <em>telegraf</em>, <em>gromet</em> (or <em>metserver</em>), and <em>metclient</em> on
<em>fs2</em>, as <em>root</em>, where <em>server</em> is either <code>gromet</code> or <code>metserver</code>:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl disable telegraf
systemctl disable metclient
systemctl disable <em>server</em></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If neither <em>gromet</em> or <em>metserver</em> is being used, omit the
<code>metclient</code> and <em>server</em> commands. If <em>metclient</em> is not being used,
omit the command for it.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_finalizing_fs1">8.2. Finalizing fs1</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If <em>metserver</em> is being used, move the serial connectors for the
MET4A and wind sensors to the original connectors on <em>fs1</em>.</p>
</li>
<li>
<p>Start <em>gromet</em> (or <em>metserver</em>), <em>telegraf</em> and <em>metclient</em> on
<em>fs1</em>, as <em>root</em>, where <em>server</em> is either <code>gromet</code> or <code>metserver</code>:</p>
<div class="literalblock">
<div class="content">
<pre>systemctl start <em>server</em>
systemctl start metclient
systemctl start telegraf</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If neither <em>gromet</em> or <em>metserver</em> is being used, omit the first
two commands. If <em>metclient</em> is not being used, omit the command for
it.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Start the FS on <em>fs1</em>.</p>
</li>
<li>
<p>Reverify the second sub-step <a href="#no_problems">Verify there are no other
problems</a> in the <a href="#_testing_telegraf_on_fs1">Testing telegraf on fs1</a> step above.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_set_telegraf_utility">9. set_telegraf utility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may want to install the <em>set_telegraf</em> script, which assumes
<code>systemd</code> (not <code>initd</code>) is being used. This script can be used by
<em>root</em> to change which machine, <em>fs1</em> or <em>fs2</em>, runs <em>telegraf</em> (and
<em>gromet</em>) for operations. This works best when <em>gromet</em>, instead of
<em>metserver</em>, is used as the server for met. data. You can adjust the
instructions for using <em>metserver</em>. Some notes on doing that are
provided. If you don&#8217;t want to install <em>set_telegraf</em>, skip ahead to
the <a href="#_restoring_raids">Restoring RAIDs</a> section below.</p>
</div>
<div class="sect2">
<h3 id="_set_telegraf_installation">9.1. set_telegraf installation</h3>
<div class="paragraph">
<p>The actions for installing <em>set_telegraf</em> on <em>fs1</em> and <em>fs2</em> are
almost identical. The two differences are noted as <strong>IMPORTANT</strong> in
the step <a href="#_fs1_set_telegraf_installation">fs1 set_telegraf installation</a> below and summarized in
<a href="#_fs2_set_telegraf_installation">fs2 set_telegraf installation</a> step below.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If <em>metserver</em> is being used, it must have been setup on both
machines already. Additionally, when switching between machines, the
physical connections to the met. devices will need to moved between
the computers. When <em>gromet</em> is used, switching the configuration is
an entirely software operation.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_fs1_set_telegraf_installation">9.1.1. fs1 set_telegraf installation</h4>
<div class="paragraph">
<p>These instructions are performed on <em>fs1</em>. To install the
<em>set_telegraf</em> script, as <em>root</em>:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
For installing on <em>fs2</em>, these instructions are performed
on <em>fs2</em>.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place a copy of <em>set_telegraf</em> in <em>/usr/local/sbin</em></p>
<div class="literalblock">
<div class="content">
<pre>cd /usr/local/sbin
cp /usr2/telegraf_install/set_telegraf .</pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
If <em>gromet</em> is <em>not</em> being used, the <em>gromet</em> lines in
<em>/usr/local/sbin/set_telegraf</em> will need to be commented-out or
replaced with <em>metserver</em> lines, as appropriate.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
If <em>metclient</em> <em>is</em> being used, the <em>metclient</em> lines in
<em>/usr/local/sbin/set_telegraf</em> will need to be uncommented.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Set ownerships and permissions:</p>
<div class="literalblock">
<div class="content">
<pre>cd /usr/local/sbin
chown root.root set_telegraf
chmod u+rwx,go+r,go-wx, set_telegraf</pre>
</div>
</div>
</li>
<li>
<p>Save the existing <em>telegraf</em> configuration file, using today&#8217;s
<em>date</em> (e.g., <code>2021Aug19</code>):</p>
<div class="literalblock">
<div class="content">
<pre>cd /etc/telegraf
mkdir OLD.<em>date</em>
mv telegraf.conf OLD.<em>date</em></pre>
</div>
</div>
</li>
<li>
<p>Copy the <em>/etc/telegraf/OLD.&lt;date&gt;/telegraf.conf</em> to
<em>/etc/telegraf.conf.full</em>, using the value of <em>date</em> from the previous
sub-step:</p>
<div class="literalblock">
<div class="content">
<pre>cd /etc/telegraf
cp OLD.<em>date</em>/telegraf.conf telegraf.conf.full</pre>
</div>
</div>
</li>
<li>
<p>Place a copy of the <em>telegraf.conf.partial</em> in <em>/etc/telegraf</em>:</p>
<div class="literalblock">
<div class="content">
<pre>cd /etc/telegraf
cp /usr2/telegraf_install/telegraf.conf.partial .</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
You may want to update the (commented-out) address for the
<em>metserver</em> in <em>telegraf.conf.partial</em> to agree with your
<em>telegraf.conf.full</em> to ease future changes.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>When working on <em>fs1</em>, create the symbolic link:</p>
<div class="literalblock">
<div class="content">
<pre>cd /etc/telegraf
ln -sfn telegraf.conf.full telegraf.conf</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>When working on <em>fs2</em>, instead, use:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd /etc/telegraf
ln -sfn telegraf.conf.partial telegraf.conf</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_fs2_set_telegraf_installation">9.1.2. fs2 set_telegraf installation</h4>
<div class="paragraph">
<p>The directions for <em>fs2</em> are identical to the ones for <em>fs1</em>, except:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All work is performed on <em>fs2</em></p>
</li>
<li>
<p>The symbolic link is set to point to <em>telegraf.conf.partial</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please follow the directions in the <a href="#_fs1_set_telegraf_installation">fs1 set_telegraf installation</a>
sub-section above with those changes, which are noted as <strong>IMPORTANT</strong>
there, then proceed to the step <a href="#_testing_set_telegraf">Testing set_telegraf</a> below.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_testing_set_telegraf">9.2. Testing set_telegraf</h3>
<div class="paragraph">
<p>The instructions below, alternately disable and enable <em>telegraf</em> from
collecting antenna data, and met. data if met. devices are being used.
They assme that gromet (or <em>metserver</em>) are serving data to the
<code>localhost</code>. If not, they must be already configured to serve data to
the local host&#8217;s name on each machine.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Be careful to enter the command on the machine indicated.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On <em>fs1</em> as <em>root</em>, execute:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf partial</pre>
</div>
</div>
</li>
<li>
<p>Verify that the <em>grafana</em> display is <em>not</em> showing updating
antenna/met. data.</p>
</li>
<li>
<p>On <em>fs2</em> as <em>root</em>, execute:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf full</pre>
</div>
</div>
</li>
<li>
<p>Verify that the <em>grafana</em> display is showing updating antenna/met.
data.</p>
</li>
<li>
<p>On <em>fs2</em> as <em>root</em>, execute:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf partial</pre>
</div>
</div>
</li>
<li>
<p>Verify that the <em>grafana</em> display is <em>not</em> showing updating
antenna/met. data.</p>
</li>
<li>
<p>On <em>fs1</em> as <em>root</em>, execute:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf full</pre>
</div>
</div>
</li>
<li>
<p>Verify that the <em>grafana</em> display is showing updating antenna/met.
data.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If in each case <em>grafana</em> was showing or not showing the data as
indicated, then the system is checked out and has been returned to the
operational <em>telegraf</em> being on <em>fs1</em>. The <em>telegraf</em> on <em>fs2</em> should
still be collecting diagnostic information for that computer. This is
the normal configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="_use_of_set_telegraf">9.3. Use of set_telegraf</h3>
<div class="paragraph">
<p>The <em>set_telegraf</em> utility provides a command that can be used to
switch the configuration of <em>telegraf</em> on the <em>operational</em> and
<em>spare</em> computer systems. The <em>telegraf</em> configuration on operational
system is usually the <em>full</em> configuration, collecting data from the
antenna, FS, datalogger, and met. server, as well as the performance
data for that computer. The configuration on the spare computer is the
<em>partial</em> configuration. It only collects the performance data for
that computer. If for some reason the usual operational disks (<em>fs1</em>)
can&#8217;t be used (in either the operational or spare computer chassis)
and spare disks (<em>fs2</em>) are pressed into service for operations,
<em>set_telegraf</em> provides a means to change the telegraf configuration
on the spare dsks into the operational one, and vice-versa.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The node names of the systems are associated with the disks, not
the computer chassis. Thus if the <em>fs1</em> disks are moved from the usual
operational computer chassis to the spare computer chassis, then <em>fs1</em>
is running in the spare computer chassis. If the <em>fs1</em> disks are moved
to the spare chassis, they can still be used for operations, including
using the full <em>telegraf</em> configuration.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
It is important that only one <em>telegraf</em> configuration be
the full one at any given time. As a result, you should always change
the current full configuration to partial before enabling the full
configuration on the other computer. If it is not possible to disable
the current full configuration (for example, the disks won&#8217;t boot)
before enabling the other, the system with the previous full
configuration should be kept off the network until it has been
switched to partial. This can be done either be keeping it turned off
or disconnected from the network.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To switch the full configuration from <em>fs1</em> to <em>fs2</em>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change the <em>telegraf</em> on the <em>fs1</em> disks to <code>partial</code>, as <em>root</em>:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf partial</pre>
</div>
</div>
</li>
<li>
<p>Change the <em>telegraf</em> on the <em>fs2</em> disks to <code>full</code>, as <em>root</em>:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf full</pre>
</div>
</div>
</li>
<li>
<p>If <em>gromet</em> (or <em>metserver</em>) was serving data to the network
instead of <code>localhost</code>, then:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>If this is the first time you have switched to using <code>full</code> on
<em>fs2</em> since the last <em>refresh_spare_usr2</em>, then on <em>fs2</em> you will need
to:</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>As <em>oper</em>, change <em>/usr2/control/equip.ctl</em> to point to <em>fs2</em> for
the met. data.</p>
</li>
</ol>
</div>
</li>
<li>
<p>If you are using <em>metclient</em>, then you will need to make sure
<code>HOST</code> in <em>/usr/local/sbin/metclient/metclient_systemd.sh</em> points to
<em>fs2</em>.</p>
<div class="paragraph">
<p>If not, then as <em>root</em>, fix it and then execute:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>systemctl restart metclient</pre>
</div>
</div>
</li>
<li>
<p>You will need to adjust all other systems that were getting met.
data from <em>fs1</em> to point to <em>fs2</em> instead.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When operations can be restored to the <em>fs1</em> computer, switch the
systems back:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To switch the full configuration from <em>fs2</em> to <em>fs1</em>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change the <em>telegraf</em> on the <em>fs2</em> disks to <code>partial</code>, as <em>root</em>:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf partial</pre>
</div>
</div>
</li>
<li>
<p>Change the <em>telegraf</em> on the <em>fs1</em> disks to <code>full</code>, as <em>root</em>:</p>
<div class="literalblock">
<div class="content">
<pre>set_telegraf full</pre>
</div>
</div>
</li>
<li>
<p>If <em>gromet</em> (or <em>metserver</em>) was serving data to the network
instead of <code>localhost</code>, then:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>You will need to adjust all other systems that were getting met.
data from <em>fs2</em> to point to <em>fs1</em> instead.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_restoring_raids">10. Restoring RAIDs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If everything is still working, follow the <em>successful</em> branch in the
recoverable test procedure, to recover the RAIDs on both <em>fs1</em> and
<em>fs2</em> at
<a href="https://nvi-inc.github.io/fsl11/raid.html#_recoverable_testing" class="bare">https://nvi-inc.github.io/fsl11/raid.html#_recoverable_testing</a> to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Recover the RAID on <em>fs1</em>.</p>
</li>
<li>
<p>Recover the RAID on <em>fs2</em>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-16 10:05:51 -0400
</div>
</div>
</body>
</html>